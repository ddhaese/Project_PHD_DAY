<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Workshop 3 Social network | Saving your plots</title>
  <meta name="description" content="Workshop as a part of the FSS PhD &amp; PostDoc Day event on March 18 2021" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Workshop 3 Social network | Saving your plots" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Workshop as a part of the FSS PhD &amp; PostDoc Day event on March 18 2021" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Workshop 3 Social network | Saving your plots" />
  
  <meta name="twitter:description" content="Workshop as a part of the FSS PhD &amp; PostDoc Day event on March 18 2021" />
  

<meta name="author" content="David D’Haese" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  <link rel="shortcut icon" href="img/favicon.ico" type="image/x-icon" />
<link rel="prev" href="time-series.html"/>
<link rel="next" href="saving-your-plot.html"/>
<script src="libs/header-attrs-2.7/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/htmlwidgets-1.5.3/htmlwidgets.js"></script>
<script src="libs/d3-4.5.0/d3.min.js"></script>
<script src="libs/forceNetwork-binding-0.4/forceNetwork.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="css/labo.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Summary</a></li>
<li class="chapter" data-level="" data-path="getting-started.html"><a href="getting-started.html"><i class="fa fa-check"></i>Getting started</a>
<ul>
<li class="chapter" data-level="" data-path="getting-started.html"><a href="getting-started.html#installation"><i class="fa fa-check"></i>Installation</a></li>
<li class="chapter" data-level="" data-path="getting-started.html"><a href="getting-started.html#new-project"><i class="fa fa-check"></i>New project</a></li>
<li class="chapter" data-level="" data-path="getting-started.html"><a href="getting-started.html#new-rmarkdown-report"><i class="fa fa-check"></i>New RMarkdown report</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="visualizing-descriptive-analyses-for-beginners.html"><a href="visualizing-descriptive-analyses-for-beginners.html"><i class="fa fa-check"></i><b>1</b> Visualizing Descriptive analyses for beginners</a>
<ul>
<li class="chapter" data-level="1.1" data-path="visualizing-descriptive-analyses-for-beginners.html"><a href="visualizing-descriptive-analyses-for-beginners.html#load-data"><i class="fa fa-check"></i><b>1.1</b> Load data</a></li>
<li class="chapter" data-level="1.2" data-path="visualizing-descriptive-analyses-for-beginners.html"><a href="visualizing-descriptive-analyses-for-beginners.html#exploring-the-distribution-of-the-variable-woordenschat-vocabulary-through-a-histogram"><i class="fa fa-check"></i><b>1.2</b> Exploring the distribution of the variable ‘Woordenschat’ (Vocabulary) through a histogram</a></li>
<li class="chapter" data-level="1.3" data-path="visualizing-descriptive-analyses-for-beginners.html"><a href="visualizing-descriptive-analyses-for-beginners.html#histogram-exercises"><i class="fa fa-check"></i><b>1.3</b> Histogram exercises</a></li>
<li class="chapter" data-level="1.4" data-path="visualizing-descriptive-analyses-for-beginners.html"><a href="visualizing-descriptive-analyses-for-beginners.html#exploring-the-distribution-of-a-departement-using-barplots"><i class="fa fa-check"></i><b>1.4</b> Exploring the distribution of a Departement using barplots</a></li>
<li class="chapter" data-level="1.5" data-path="visualizing-descriptive-analyses-for-beginners.html"><a href="visualizing-descriptive-analyses-for-beginners.html#barplot-exercises"><i class="fa fa-check"></i><b>1.5</b> Barplot exercises</a></li>
<li class="chapter" data-level="1.6" data-path="visualizing-descriptive-analyses-for-beginners.html"><a href="visualizing-descriptive-analyses-for-beginners.html#expansion-grouped-stacked-barplots"><i class="fa fa-check"></i><b>1.6</b> Expansion: Grouped &amp; stacked barplots</a>
<ul>
<li class="chapter" data-level="1.6.1" data-path="visualizing-descriptive-analyses-for-beginners.html"><a href="visualizing-descriptive-analyses-for-beginners.html#grouped-barplot-with-department-as-grouping-variable"><i class="fa fa-check"></i><b>1.6.1</b> Grouped barplot with department as grouping variable</a></li>
<li class="chapter" data-level="1.6.2" data-path="visualizing-descriptive-analyses-for-beginners.html"><a href="visualizing-descriptive-analyses-for-beginners.html#stacked-barplot-with-participation-in-lemo-as-grouping-variable"><i class="fa fa-check"></i><b>1.6.2</b> Stacked barplot with participation in Lemo as grouping variable</a></li>
</ul></li>
<li class="chapter" data-level="1.7" data-path="visualizing-descriptive-analyses-for-beginners.html"><a href="visualizing-descriptive-analyses-for-beginners.html#boxplots"><i class="fa fa-check"></i><b>1.7</b> Boxplots</a>
<ul>
<li class="chapter" data-level="1.7.1" data-path="visualizing-descriptive-analyses-for-beginners.html"><a href="visualizing-descriptive-analyses-for-beginners.html#boxplot-of-various-numerical-scales"><i class="fa fa-check"></i><b>1.7.1</b> Boxplot of various numerical scales</a></li>
<li class="chapter" data-level="1.7.2" data-path="visualizing-descriptive-analyses-for-beginners.html"><a href="visualizing-descriptive-analyses-for-beginners.html#providing-an-indication-of-distribution"><i class="fa fa-check"></i><b>1.7.2</b> Providing an indication of distribution</a></li>
<li class="chapter" data-level="1.7.3" data-path="visualizing-descriptive-analyses-for-beginners.html"><a href="visualizing-descriptive-analyses-for-beginners.html#grouped-boxplots"><i class="fa fa-check"></i><b>1.7.3</b> Grouped boxplots</a></li>
</ul></li>
<li class="chapter" data-level="1.8" data-path="visualizing-descriptive-analyses-for-beginners.html"><a href="visualizing-descriptive-analyses-for-beginners.html#exercise-time"><i class="fa fa-check"></i><b>1.8</b> Exercise time</a></li>
<li class="chapter" data-level="1.9" data-path="visualizing-descriptive-analyses-for-beginners.html"><a href="visualizing-descriptive-analyses-for-beginners.html#whats-next"><i class="fa fa-check"></i><b>1.9</b> What’s next?</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="time-series.html"><a href="time-series.html"><i class="fa fa-check"></i><b>2</b> Time Series</a>
<ul>
<li class="chapter" data-level="2.1" data-path="time-series.html"><a href="time-series.html#introduction-to-time-series"><i class="fa fa-check"></i><b>2.1</b> Introduction to time series</a></li>
<li class="chapter" data-level="2.2" data-path="time-series.html"><a href="time-series.html#loading-the-time-series-data"><i class="fa fa-check"></i><b>2.2</b> Loading the time series data</a></li>
<li class="chapter" data-level="2.3" data-path="time-series.html"><a href="time-series.html#colors"><i class="fa fa-check"></i><b>2.3</b> Colors</a></li>
<li class="chapter" data-level="2.4" data-path="time-series.html"><a href="time-series.html#data-exploration"><i class="fa fa-check"></i><b>2.4</b> Data exploration</a></li>
<li class="chapter" data-level="2.5" data-path="time-series.html"><a href="time-series.html#prepare-data"><i class="fa fa-check"></i><b>2.5</b> Prepare data</a></li>
<li class="chapter" data-level="2.6" data-path="time-series.html"><a href="time-series.html#plotting-time-series"><i class="fa fa-check"></i><b>2.6</b> Plotting time series</a></li>
<li class="chapter" data-level="2.7" data-path="time-series.html"><a href="time-series.html#time-series-analyses"><i class="fa fa-check"></i><b>2.7</b> Time series analyses</a></li>
<li class="chapter" data-level="2.8" data-path="time-series.html"><a href="time-series.html#decompose-time-series"><i class="fa fa-check"></i><b>2.8</b> Decompose time series</a></li>
<li class="chapter" data-level="2.9" data-path="time-series.html"><a href="time-series.html#predictions"><i class="fa fa-check"></i><b>2.9</b> Predictions</a></li>
<li class="chapter" data-level="2.10" data-path="time-series.html"><a href="time-series.html#extra-resampling-temporal-data"><i class="fa fa-check"></i><b>2.10</b> Extra: Resampling temporal data</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="social-network.html"><a href="social-network.html"><i class="fa fa-check"></i><b>3</b> Social network</a>
<ul>
<li class="chapter" data-level="3.1" data-path="social-network.html"><a href="social-network.html#introduction-to-social-network"><i class="fa fa-check"></i><b>3.1</b> Introduction to social network</a></li>
<li class="chapter" data-level="3.2" data-path="social-network.html"><a href="social-network.html#loading-the-data"><i class="fa fa-check"></i><b>3.2</b> Loading the data</a></li>
<li class="chapter" data-level="3.3" data-path="social-network.html"><a href="social-network.html#exploring"><i class="fa fa-check"></i><b>3.3</b> Exploring</a></li>
<li class="chapter" data-level="3.4" data-path="social-network.html"><a href="social-network.html#reducing-size"><i class="fa fa-check"></i><b>3.4</b> Reducing size</a></li>
<li class="chapter" data-level="3.5" data-path="social-network.html"><a href="social-network.html#the-network"><i class="fa fa-check"></i><b>3.5</b> The network</a></li>
<li class="chapter" data-level="3.6" data-path="social-network.html"><a href="social-network.html#vectors"><i class="fa fa-check"></i><b>3.6</b> Vectors</a></li>
<li class="chapter" data-level="3.7" data-path="social-network.html"><a href="social-network.html#cascading-style-sheets"><i class="fa fa-check"></i><b>3.7</b> Cascading style sheets</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="saving-your-plot.html"><a href="saving-your-plot.html"><i class="fa fa-check"></i><b>4</b> Saving your plot</a>
<ul>
<li class="chapter" data-level="4.1" data-path="saving-your-plot.html"><a href="saving-your-plot.html#using-the-report"><i class="fa fa-check"></i><b>4.1</b> Using the Report</a></li>
<li class="chapter" data-level="4.2" data-path="saving-your-plot.html"><a href="saving-your-plot.html#using-rstudios-export-function"><i class="fa fa-check"></i><b>4.2</b> Using RStudio’s export function</a></li>
<li class="chapter" data-level="4.3" data-path="saving-your-plot.html"><a href="saving-your-plot.html#programmatoricaly"><i class="fa fa-check"></i><b>4.3</b> Programmatoricaly</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Saving your plots</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="social-network" class="section level1" number="3">
<h1><span class="header-section-number">Workshop 3</span> Social network</h1>
<p><img src="img/social.png" /></p>
<div id="introduction-to-social-network" class="section level2" number="3.1">
<h2><span class="header-section-number">3.1</span> Introduction to social network</h2>
<p>In this workshop, we will try to create an interactive force-directed network diagram from the <a href="https://d3js.org/">D3.js</a> framework. Typically, this type of graph is adopted for displaying relations within a social network, but its use extend far beyond social sciences. For example, one could device a similar network depicting the correlation among variables of a large dataset (e.g. the results within the students dataset of workshop 1) or, from the realm of NLP, the co-occurrence of words within tweets.</p>
</div>
<div id="loading-the-data" class="section level2" number="3.2">
<h2><span class="header-section-number">3.2</span> Loading the data</h2>
<p>We will be using the <a href="https://www.kaggle.com/rozemberczki/musae-github-social-network">MUSAE GitHub Social Network</a> dataset from Kaggle. This data covers the social network of developers on github. The authors provide us with three files, two of which we will need to display the network:</p>
<ul>
<li>a set of nodes containing the name of the developers</li>
<li>a set of edges depicting the relationships among developers</li>
</ul>
<ol style="list-style-type: decimal">
<li>Start a new project</li>
<li>Load the two files containing the data</li>
</ol>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="social-network.html#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(data.table)</span>
<span id="cb38-2"><a href="social-network.html#cb38-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(magrittr)</span>
<span id="cb38-3"><a href="social-network.html#cb38-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(networkD3)</span>
<span id="cb38-4"><a href="social-network.html#cb38-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-5"><a href="social-network.html#cb38-5" aria-hidden="true" tabindex="-1"></a>edges <span class="ot">&lt;-</span> <span class="fu">fread</span>(<span class="st">&quot;dat/git_edges.tsv&quot;</span>)</span>
<span id="cb38-6"><a href="social-network.html#cb38-6" aria-hidden="true" tabindex="-1"></a>nodes <span class="ot">&lt;-</span> <span class="fu">fread</span>(<span class="st">&quot;dat/git_nodes.tsv&quot;</span>)</span></code></pre></div>
</div>
<div id="exploring" class="section level2" number="3.3">
<h2><span class="header-section-number">3.3</span> Exploring</h2>
<ol style="list-style-type: decimal">
<li>Explore the two <code>data.table</code> objects using the <code>str</code> command until you understand how these are connected to each other</li>
</ol>
</div>
<div id="reducing-size" class="section level2" number="3.4">
<h2><span class="header-section-number">3.4</span> Reducing size</h2>
<p>Unfortunately, visualizing a social network is really only feasible with relatively small networks. Once we start talking thousand of nodes, you will need a <a href="https://www.youtube.com/watch?v=2I91DJZKRxs">bigger boat</a>. Not that the D3.js network is slow, it is not. It has to do with the number of edges increasing exponentially with increasing number of nodes.</p>
<ol style="list-style-type: decimal">
<li>Pick the 40 most popular developers, i.e. the ones with the most connections, and adjust the edges and nodes datasets accordingly</li>
</ol>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="social-network.html#cb39-1" aria-hidden="true" tabindex="-1"></a>popular <span class="ot">&lt;-</span> edges <span class="sc">%&gt;%</span> unlist <span class="sc">%&gt;%</span></span>
<span id="cb39-2"><a href="social-network.html#cb39-2" aria-hidden="true" tabindex="-1"></a>  table <span class="sc">%&gt;%</span> sort <span class="sc">%&gt;%</span> rev <span class="sc">%&gt;%</span></span>
<span id="cb39-3"><a href="social-network.html#cb39-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">40</span>) <span class="sc">%&gt;%</span> names</span>
<span id="cb39-4"><a href="social-network.html#cb39-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-5"><a href="social-network.html#cb39-5" aria-hidden="true" tabindex="-1"></a>edges_sel <span class="ot">&lt;-</span> edges[Source <span class="sc">%in%</span> popular <span class="sc">&amp;</span> Target <span class="sc">%in%</span> popular]</span>
<span id="cb39-6"><a href="social-network.html#cb39-6" aria-hidden="true" tabindex="-1"></a>edges_sel[, Source <span class="sc">:</span><span class="er">=</span> <span class="fu">match</span>(Source, popular) <span class="sc">-</span> <span class="dv">1</span>]</span>
<span id="cb39-7"><a href="social-network.html#cb39-7" aria-hidden="true" tabindex="-1"></a>edges_sel[, Target <span class="sc">:</span><span class="er">=</span> <span class="fu">match</span>(Target, popular) <span class="sc">-</span> <span class="dv">1</span>]</span>
<span id="cb39-8"><a href="social-network.html#cb39-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-9"><a href="social-network.html#cb39-9" aria-hidden="true" tabindex="-1"></a>nodes_sel <span class="ot">&lt;-</span> nodes[ID <span class="sc">%in%</span> popular]</span>
<span id="cb39-10"><a href="social-network.html#cb39-10" aria-hidden="true" tabindex="-1"></a>nodes_sel[, ID <span class="sc">:</span><span class="er">=</span> <span class="fu">match</span>(ID, popular) <span class="sc">-</span> <span class="dv">1</span>]</span></code></pre></div>
</div>
<div id="the-network" class="section level2" number="3.5">
<h2><span class="header-section-number">3.5</span> The network</h2>
<p>Drawing the network is really easy. Because however it is different from any other plotting system in R, it takes a bit time to get accustomed to. For example, the color palette is being written in Javascript.</p>
<ol style="list-style-type: decimal">
<li>Start by creating a palette with your two favourite colors</li>
</ol>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="social-network.html#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="fu">palette</span>(<span class="fu">c</span>(<span class="st">&quot;#2D859C&quot;</span>, <span class="st">&quot;#B86619&quot;</span>))</span></code></pre></div>
<p>Now we have to make sure to generate a Javascript statement that looks like this:</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb41-1"><a href="social-network.html#cb41-1" aria-hidden="true" tabindex="-1"></a>d3<span class="op">.</span><span class="fu">scaleOrdinal</span>()<span class="op">.</span></span>
<span id="cb41-2"><a href="social-network.html#cb41-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">domain</span>([<span class="st">&quot;0&quot;</span><span class="op">,</span> <span class="st">&quot;1&quot;</span>])<span class="op">.</span></span>
<span id="cb41-3"><a href="social-network.html#cb41-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">range</span>([<span class="st">&quot;#2D859C&quot;</span><span class="op">,</span> <span class="st">&quot;#B86619&quot;</span>])<span class="op">;</span></span></code></pre></div>
<ol style="list-style-type: decimal">
<li>Generate the above JS code based on the value of the palette</li>
</ol>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="social-network.html#cb42-1" aria-hidden="true" tabindex="-1"></a>color_scale <span class="ot">&lt;-</span> <span class="fu">paste0</span>(</span>
<span id="cb42-2"><a href="social-network.html#cb42-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;d3.scaleOrdinal().domain([</span><span class="sc">\&quot;</span><span class="st">0</span><span class="sc">\&quot;</span><span class="st">, </span><span class="sc">\&quot;</span><span class="st">1</span><span class="sc">\&quot;</span><span class="st">])&quot;</span>,</span>
<span id="cb42-3"><a href="social-network.html#cb42-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;.range([</span><span class="sc">\&quot;</span><span class="st">&quot;</span>, </span>
<span id="cb42-4"><a href="social-network.html#cb42-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">palette</span>()[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>] <span class="sc">%&gt;%</span> <span class="fu">paste0</span>(<span class="at">collapse =</span> <span class="st">&quot;</span><span class="sc">\&quot;</span><span class="st">, </span><span class="sc">\&quot;</span><span class="st">&quot;</span>), <span class="st">&quot;</span><span class="sc">\&quot;</span><span class="st">]);&quot;</span>)</span></code></pre></div>
<p>Indeed, also the content of the <code>domain</code> function call could be generated from the unique values in the node groups instead of fixing it to contain <code>["0", "1"]</code>. Notice the use of escapes for inserting double quotes.</p>
<p>Now that we have the colors covered, we can call the <code>forceNetwork</code> function of the <code>networkD3</code> package.</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="social-network.html#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="fu">forceNetwork</span>(</span>
<span id="cb43-2"><a href="social-network.html#cb43-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">height =</span> <span class="dv">600</span>,</span>
<span id="cb43-3"><a href="social-network.html#cb43-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">width =</span> <span class="dv">600</span>,</span>
<span id="cb43-4"><a href="social-network.html#cb43-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">Links =</span> edges_sel,</span>
<span id="cb43-5"><a href="social-network.html#cb43-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">Nodes =</span> nodes_sel, </span>
<span id="cb43-6"><a href="social-network.html#cb43-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">Source =</span> <span class="st">&quot;Source&quot;</span>,</span>
<span id="cb43-7"><a href="social-network.html#cb43-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">Target =</span> <span class="st">&quot;Target&quot;</span>, </span>
<span id="cb43-8"><a href="social-network.html#cb43-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">NodeID =</span> <span class="st">&quot;Name&quot;</span>,</span>
<span id="cb43-9"><a href="social-network.html#cb43-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">Group =</span> <span class="st">&quot;Group&quot;</span>,</span>
<span id="cb43-10"><a href="social-network.html#cb43-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">bounded =</span> <span class="cn">TRUE</span>,</span>
<span id="cb43-11"><a href="social-network.html#cb43-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">opacityNoHover =</span> .<span class="dv">8</span>,</span>
<span id="cb43-12"><a href="social-network.html#cb43-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">linkColour =</span> <span class="st">&quot;#B3B3B3&quot;</span>,</span>
<span id="cb43-13"><a href="social-network.html#cb43-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">zoom =</span> <span class="cn">TRUE</span>,</span>
<span id="cb43-14"><a href="social-network.html#cb43-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">colourScale =</span> <span class="fu">JS</span>(color_scale),</span>
<span id="cb43-15"><a href="social-network.html#cb43-15" aria-hidden="true" tabindex="-1"></a>  <span class="at">legend =</span> <span class="cn">TRUE</span>,</span>
<span id="cb43-16"><a href="social-network.html#cb43-16" aria-hidden="true" tabindex="-1"></a>  <span class="at">fontFamily =</span> <span class="st">&quot;Roboto&quot;</span>,</span>
<span id="cb43-17"><a href="social-network.html#cb43-17" aria-hidden="true" tabindex="-1"></a>  <span class="at">fontSize =</span> <span class="dv">16</span>,</span>
<span id="cb43-18"><a href="social-network.html#cb43-18" aria-hidden="true" tabindex="-1"></a>  <span class="at">charge =</span> <span class="sc">-</span><span class="dv">1</span>,</span>
<span id="cb43-19"><a href="social-network.html#cb43-19" aria-hidden="true" tabindex="-1"></a>  <span class="at">opacity =</span> <span class="dv">1</span>,</span>
<span id="cb43-20"><a href="social-network.html#cb43-20" aria-hidden="true" tabindex="-1"></a>  <span class="at">linkDistance =</span> <span class="dv">200</span>)</span></code></pre></div>
<div id="htmlwidget-62e4ee7dc89f8ad0a521" style="width:600px;height:600px;" class="forceNetwork html-widget"></div>
<script type="application/json" data-for="htmlwidget-62e4ee7dc89f8ad0a521">{"x":{"links":{"source":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,13,13,13,13,13,13,13,13,13,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,35,35,35,35,35,15,15,15,15,15,15,15,15,15,16,16,16,16,16,16,16,16,11,11,11,11,11,11,11,11,11,11,11,11,14,14,14,14,14,14,14,7,7,7,7,7,7,7,7,7,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,37,37,37,37,37,37,20,20,20,20,20,20,18,18,18,18,18,18,18,24,24,24,24,24,24,24,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,22,22,22,22,22,22,22,22,22,22,22,33,33,33,33,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,34,34,34,34,34,39,39,39,39,39,39,30,30,30,30,21,21,27,27,27,27,27,27,27,27,27,27,27,27,27,27,23,23,23,23,28,28,28,28,28,25,25,25,25,25,25,25,25,25,25,25,25,17,17,2,2,2,2,2,2,31,31,31,0,0,0,0,19,19,19,19,36,36,29,26,38,8,6,10],"target":[21,9,12,37,31,20,24,18,13,34,32,5,38,23,35,39,30,19,10,3,25,4,27,22,26,28,0,14,15,16,11,33,29,17,2,6,36,8,7,25,22,3,9,12,0,10,4,27,31,25,20,16,24,35,22,0,34,26,17,3,12,21,9,4,38,7,27,20,10,12,9,27,24,12,0,5,34,21,17,9,26,27,22,12,2,10,28,3,9,25,2,26,3,12,9,0,10,29,4,19,27,33,5,23,3,9,8,4,22,2,3,9,12,25,10,4,27,25,24,29,22,5,34,2,23,17,28,21,0,3,12,38,37,6,20,30,10,18,8,26,19,2,3,18,12,0,27,25,0,30,10,12,27,10,0,26,3,12,4,27,0,34,17,3,12,10,27,36,29,2,26,17,3,12,39,38,25,31,5,30,23,0,10,8,19,27,0,5,2,26,23,17,28,3,12,19,38,25,3,12,27,27,36,26,23,28,21,12,38,39,31,10,0,8,19,25,29,34,2,5,6,30,17,25,5,2,26,23,17,28,6,31,0,10,30,21,8,19,27,17,0,19,10,27,10,27,0,30,29,19,25,0,10,28,10,27,36,0,29,8,5,2,26,23,10,17,28,6,19,38,31,25,29,10,0,2,8,38,17,6,36,29,0,2,10,19,17,5,26,8,38,38,10,36,0,19,6,29,10,0,10,19,8,19,10,5,6,29,10,5,10,29,10,10,10,10,5,5],"colour":["#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3","#B3B3B3"]},"nodes":{"name":["kentcdodds","mbostock","sorrycc","isaacs","onevcat","pengliheng","jeresig","getify","ronenhamias","daimajia","sdras","RubyLouvre","gabrielpconceicao","sibelius","rasbt","sophiebits","nelsonic","TheLarkInn","Bunlong","JonnyBanana","fengmk2","bradfitz","spf13","phodal","mafintosh","ajsb85","antirez","kamranahmedse","mcanthony","nfultz","ahmetabdi","kauegimenes","remy","dalinhuang99","igrigorik","shayan-taheri","mdo","addyosmani","SuriyaaKudoIsc","rfthusn"],"group":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0]},"options":{"NodeID":"Name","Group":"Group","colourScale":"d3.scaleOrdinal().domain([\"0\", \"1\"]).range([\"#2D859C\", \"#B86619\"]);","fontSize":16,"fontFamily":"Roboto","clickTextSize":40,"linkDistance":200,"linkWidth":"function(d) { return Math.sqrt(d.value); }","charge":-1,"opacity":1,"zoom":true,"legend":true,"arrows":false,"nodesize":false,"radiusCalculation":" Math.sqrt(d.nodesize)+6","bounded":true,"opacityNoHover":0.8,"clickAction":null}},"evals":[],"jsHooks":[]}</script>
<p>Let us go over the arguments one-by-one:</p>
<ul>
<li><code>height = 600</code>: set canvas width to 600 pixels</li>
<li><code>width = 600</code>: set canvas height to 600 pixels</li>
<li><code>Links = edges_sel</code>: attach edge dataset</li>
<li><code>Nodes = nodes_sel</code>: attach node dataset</li>
<li><code>Source = "Source"</code>: define the variable name containing the source of the relationships</li>
<li><code>Target = "Target"</code>: define the variable name containing the target of the relationships</li>
<li><code>NodeID = "Name"</code>: define the variable name containing the label to be displayed</li>
<li><code>Group = "Group"</code>: define the variable name containing the (color) group</li>
<li><code>bounded = TRUE</code>: wether nodes are allowed to fly out of the canvas</li>
<li><code>opacityNoHover = .8</code>: the opacity of the labels when no node is being hovered over</li>
<li><code>linkColour = "#B3B3B3"</code>: the color of the edges</li>
<li><code>zoom = TRUE</code>: whether the network can be zoomed-in and out</li>
<li><code>colourScale = JS(color_scale)</code>: the JS color scale</li>
<li><code>legend = TRUE</code>: whether to add a legend</li>
<li><code>fontFamily = "Roboto"</code>: the font family for the labels</li>
<li><code>fontSize = 16</code>: the font size for the labels</li>
<li><code>charge = -1</code>: the amount of force that pull the nodes together (positive) or apart (negative)</li>
<li><code>opacity = 1</code>: the relative opacity of the graph elements</li>
<li><code>linkDistance = 200</code>: the default length of the edges disregarding forces acting upon the nodes</li>
</ul>
<p>See <code>?forceNetwork</code> for more details. Mind that the code for the developer type was not clear from the data source, otherwise we could have replaced <code>0</code> and <code>1</code> by their proper type descriptions and the legend would adjust accordingly.</p>
</div>
<div id="vectors" class="section level2" number="3.6">
<h2><span class="header-section-number">3.6</span> Vectors</h2>
<p>The network is being rendered as an <code>svg</code> HTML element (scalable vector graphics). This has some very interested advantages. For one, it means the texts are not rendered as images, but remain searchable just like any other text on the report.</p>
<ol style="list-style-type: decimal">
<li>Try to search text within your network (e.g. “mcanthony”) or that of this workshop page using your browser</li>
</ol>
</div>
<div id="cascading-style-sheets" class="section level2" number="3.7">
<h2><span class="header-section-number">3.7</span> Cascading style sheets</h2>
<p>Hopefully you have heard of CSS before. It is the language used to style the web and it has been growing more popular in the past decades and will probably continue to do so for a while. Because the network is being rendered as pure HTML, elements of it can also be styled using CSS. In Rstudio, which supports multilingual development, you can add a css code chunk instead of an R code chunk.</p>
<ol style="list-style-type: decimal">
<li>Add a <code>css</code> code chunk in your report to adjust the border color and border stroke width of the nodes. Also, when finished growing after hovering over it, turn the node to a brighter orange:</li>
</ol>
<div class="sourceCode" id="cb44"><pre class="sourceCode css"><code class="sourceCode css"><span id="cb44-1"><a href="social-network.html#cb44-1" aria-hidden="true" tabindex="-1"></a>g circle {</span>
<span id="cb44-2"><a href="social-network.html#cb44-2" aria-hidden="true" tabindex="-1"></a>  stroke: <span class="cn">#B3B3B3</span> <span class="at">!important</span><span class="op">;</span></span>
<span id="cb44-3"><a href="social-network.html#cb44-3" aria-hidden="true" tabindex="-1"></a>  stroke-width: <span class="dv">1</span><span class="dt">px</span> <span class="at">!important</span><span class="op">;</span></span>
<span id="cb44-4"><a href="social-network.html#cb44-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb44-5"><a href="social-network.html#cb44-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-6"><a href="social-network.html#cb44-6" aria-hidden="true" tabindex="-1"></a>g circle<span class="ex">[r</span><span class="op">=</span><span class="st">&quot;11&quot;</span><span class="ex">]</span>{</span>
<span id="cb44-7"><a href="social-network.html#cb44-7" aria-hidden="true" tabindex="-1"></a>  <span class="kw">fill</span>: <span class="cn">#FD9734</span><span class="op">;</span></span>
<span id="cb44-8"><a href="social-network.html#cb44-8" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<style type="text/css">
g circle {
  stroke: #B3B3B3 !important;
  stroke-width: 1px !important;
}

g circle[r="11"]{
  fill: #FD9734;
}
</style>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="time-series.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="saving-your-plot.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/ddhaese/Project_PHD_DAY/blob/main/3_Social.Rmd",
"text": "Bron"
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
